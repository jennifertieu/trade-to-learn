import Head from "next/head";
import Image from "next/image";
import styles from "@/styles/home.module.css";
import { useState, useEffect } from "react";
import Trade from "@/components/Trade";

export default function Home() {
  const [stockDailyData, setStockDailyData] = useState(null);
  const data = {
    symbol: "AAPL",
    close: 161.23,
    high: 165.25,
    low: 160.21,
    open: 161
  }

  // useEffect(() => {
  //   const fetchData = async() => {
  //     const response = await fetch("/api/open-close");
  //     const data = await response.json();
  //     setStockDailyData(data);
  //   }
  //   fetchData();
  // }, [])

  return (
    <>
      <Head>
        <title>Trade To Learn</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <section className={styles.main}>
        <div className={styles.heading}>
          <h1>Stocks</h1>
          <p>Trading Common Stocks</p>
        </div>
        <section className={styles.section}>
          <article>
            <h2>Portfolio</h2>
            <p>$10,000</p>
          </article>
          {
            data ?
              <table>
                <thead>
                  <tr>
                    <th>Ticker</th>
                    <th>Close Price</th>
                    <th>Highest Price</th>
                    <th>Lowest Price</th>
                    <th>Open Price</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>{data["symbol"]}</td>
                    <td>{data["close"]}</td>
                    <td>{data["high"]}</td>
                    <td>{data["low"]}</td>
                    <td>{data["open"]}</td>
                  </tr>
                </tbody>
              </table> : <div>Loading...</div>
          }
        </section>
        <div className={styles.trade}>
          <Trade type="stock"/>
        </div>
      </section>
    </>
  );
}
